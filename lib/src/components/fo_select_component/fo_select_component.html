<label (click)="setVisible(true)" *ngIf="label.isNotEmpty">
    {{label | phrase}}
    <material-icon
            *ngIf="tooltip != null"
            baseline
            class="clickable"
            (click)="tooltipModalVisible = true; $event.stopPropagation();"
            icon="help_outline"
            size="medium">
    </material-icon>
    <material-icon
            *ngIf="allowNullSelection && selectedModel != null"
            baseline
            class="clickable color-alert"
            icon="cancel"
            size="medium"
            (click)="selectionModel.clear(); $event.stopPropagation();">
    </material-icon>
</label>
<div class="flex-container">
    <material-dropdown-select
            [class.full-width]="fullWidth"
            [disabled]="disabled || selectionOptions == null || selectionModel == null"
            [buttonText]="selectionModel.isEmpty ? nullSelectionButtonText : selectedModel?.toString()"
            [popupMatchInputWidth]="false"
            [options]="selectionOptions"
            [componentRenderer]="componentRenderer"
            [selection]="selectionModel"
            [(visible)]="visible">
        <div *ngIf="showSearch" header>
            <material-select-searchbox
                    [label]="'search' | phrase"
                    [filterable]="selectionOptions">
            </material-select-searchbox>
        </div>
    </material-dropdown-select>

    <material-button
            class="button"
            clear-size
            dense
            [disabled]="disabled || selectionOptions == null || selectedModel == null"
            *ngIf="showActionButton && actionButtonText != null && actionButtonIcon == null"
            raised
            (trigger)="onActionButtonTriggerController.add(selectedModel.id)">
        {{actionButtonText | phrase}}
    </material-button>

    <!-- Icon has precedence over text -->
    <material-button
            class="button"
            clear-size
            dense
            [disabled]="disabled || selectionOptions == null || selectedModel == null"
            *ngIf="showActionButton && actionButtonIcon != null"
            raised
            (trigger)="onActionButtonTriggerController.add(selectedModel.id)">
        <material-icon *ngIf="actionButtonIcon != null" [icon]="actionButtonIcon" size="small"></material-icon>
    </material-button>
</div>

<fo-modal
        title="{{'information' | phrase}}"
        [(visible)]="tooltipModalVisible"
        [showCloseButton]="true">
    <p>{{tooltip | phrase}}</p>
</fo-modal>