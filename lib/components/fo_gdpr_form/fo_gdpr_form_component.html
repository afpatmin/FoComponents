<fo-modal title="GDPR" [fixedWidth]="true" [visible]="open" (visibleChange)="open = $event; openController.add($event);"
    [whiteHeader]="false" [smallPadding]="false">
    <div *ngIf="open">
        <div *ngIf="!sent">
            <div class="row collapse">
                <div class="col">
                    <form [ngFormModel]="form">
                        <div class="row">
                            <div class="m6 col">
                                <p class="margin-top-none margin-bottom-small" [innerHtml]="'gdpr_form_info' | phrase"></p>
                                <p class="margin-top-small text-small" *ngIf="readMoreLink != null">
                                    <a href="{{readMoreLink}}" target="_blank">{{'read_more' | phrase}}</a>
                                </p> 
                            </div>
                        </div>
                        <div class="row">
                            <div class="m6 col">
                                <material-input label="{{'firstname' | phrase}}*" floatingLabel ngControl="firstname" [(ngModel)]="model.firstname" [maxCount]="50">
                                </material-input>
                            </div>
                            <div class="m6 col">
                                <material-input label="{{'lastname' | phrase}}*" floatingLabel ngControl="lastname" [(ngModel)]="model.lastname" [maxCount]="50">
                                </material-input>
                            </div>
                        </div>
                        <div class="row">
                            <div class="m6 col">
                                <material-input label="{{'phone' | phrase}}*" floatingLabel ngControl="phone" [(ngModel)]="model.phone" [maxCount]="15">
                                </material-input>
                            </div>
                            <div class="m6 col">
                                <material-input label="{{'email' | phrase}}*" floatingLabel ngControl="email" [(ngModel)]="model.email" [maxCount]="128">
                                </material-input>
                            </div>
                        </div>
                        <div class="row">
                            <div class="m6 col">
                                <fo-select label="{{'issue' | phrase}}*" [sort]="false" [(selectedId)]="model.selected_issue" [options]="options">
                                </fo-select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <material-input label="{{'comments' | phrase}}" floatingLabel ngControl="comments" [(ngModel)]="model.comments" [maxCount]="1000"
                                    multiline rows="5">
                                </material-input>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col text-right">
                                <material-checkbox label="{{'gdpr_form_accept' | phrase}}" [(checked)]="termsChecked">
                                </material-checkbox>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
            <div class="row" footer>
                <div class="col text-right">
                    <material-button raised (trigger)="submit()" [disabled]="!form.valid || !termsChecked">
                        {{'send' | phrase}}
                    </material-button>
                </div>
            </div>
        </div>
        <div *ngIf="sent">
            <p [innerHtml]="'gdpr_form_completed_message' | phrase"></p>
        </div>
    </div>

</fo-modal>